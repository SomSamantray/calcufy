import{c as v,j as e,r as n}from"./styles.js";function w(){const[a,f]=n.useState("add"),[b,h]=n.useState("Addition"),[s,g]=n.useState(""),[l,N]=n.useState(""),[i,u]=n.useState(!1),[c,r]=n.useState("");n.useEffect(()=>{if(window.openai&&window.openai.toolOutput){const t=window.openai.toolOutput.structuredContent||window.openai.toolOutput;console.log("[Input] Received tool output:",t),t.operation&&f(t.operation),t.operationName&&h(t.operationName)}},[]);const d=()=>({add:"‚ûï",subtract:"‚ûñ",multiply:"‚úñÔ∏è",divide:"‚ûó"})[a]||"üî¢",m=()=>({add:"from-blue-500 to-blue-600",subtract:"from-purple-500 to-purple-600",multiply:"from-green-500 to-green-600",divide:"from-orange-500 to-orange-600"})[a]||"from-gray-500 to-gray-600",j=()=>{if(r(""),s===""||l==="")return r("Please enter both numbers"),!1;const t=parseFloat(s),o=parseFloat(l);return isNaN(t)||isNaN(o)?(r("Please enter valid numbers"),!1):a==="divide"&&o===0?(r("Cannot divide by zero"),!1):!0},x=async t=>{if(t.preventDefault(),!!j()){u(!0),r("");try{const o=parseFloat(s),p=parseFloat(l);window.openai&&window.openai.callTool?await window.openai.callTool("calculate",{operation:a,num1:o,num2:p}):(console.error("[Input] window.openai.callTool not available"),alert(`Calculate: ${o} ${a} ${p}

In ChatGPT, this will show the result.`))}catch(o){console.error("[Input] Error calling tool:",o),r("Failed to calculate. Please try again.")}finally{u(!1)}}};return e.jsxs("div",{className:"calculator-input",children:[e.jsxs("div",{className:`input-header bg-gradient-to-br ${m()}`,children:[e.jsx("div",{className:"header-emoji",children:d()}),e.jsx("h2",{className:"header-title",children:b}),e.jsx("p",{className:"header-subtitle",children:"Enter two numbers to calculate"})]}),e.jsxs("form",{onSubmit:x,className:"input-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"num1",className:"form-label",children:"First Number"}),e.jsx("input",{type:"number",id:"num1",value:s,onChange:t=>g(t.target.value),className:"form-input",placeholder:"Enter first number",step:"any",autoFocus:!0,disabled:i})]}),e.jsx("div",{className:"operation-symbol",children:d()}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"num2",className:"form-label",children:"Second Number"}),e.jsx("input",{type:"number",id:"num2",value:l,onChange:t=>N(t.target.value),className:"form-input",placeholder:"Enter second number",step:"any",disabled:i})]}),c&&e.jsxs("div",{className:"error-message",children:["‚ö†Ô∏è ",c]}),e.jsx("button",{type:"submit",disabled:i,className:`calculate-button bg-gradient-to-br ${m()}`,children:i?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"loading-spinner"}),"Calculating..."]}):e.jsx(e.Fragment,{children:"Calculate"})})]})]})}if(typeof document<"u"){const a=document.getElementById("root");a&&v.createRoot(a).render(e.jsx(w,{}))}
