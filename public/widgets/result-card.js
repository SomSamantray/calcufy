import{c as f,j as e,r as t}from"./styles.js";function x(){const[a,n]=t.useState(null),[i,l]=t.useState(!0),[c,d]=t.useState(!1),[u,o]=t.useState(!1);t.useEffect(()=>{if(window.openai&&window.openai.toolOutput){const s=window.openai.toolOutput.structuredContent||window.openai.toolOutput;console.log("[Result] Received tool output:",s),n(s),l(!1),setTimeout(()=>d(!0),100),setTimeout(()=>o(!0),300),setTimeout(()=>o(!1),2e3)}else console.error("[Result] No tool output found"),l(!1)},[]);const m=()=>a&&{add:"‚ûï",subtract:"‚ûñ",multiply:"‚úñÔ∏è",divide:"‚ûó"}[a.operation]||"üî¢",r=()=>a&&{add:"from-blue-500 to-blue-600",subtract:"from-purple-500 to-purple-600",multiply:"from-green-500 to-green-600",divide:"from-orange-500 to-orange-600"}[a.operation]||"from-gray-500 to-gray-600",p=async()=>{try{window.openai&&window.openai.callTool?await window.openai.callTool("show_calculator",{}):(console.log("[Result] window.openai.callTool not available"),alert("In ChatGPT, this will show the calculator again."))}catch(s){console.error("[Result] Error calling tool:",s)}};return i?e.jsxs("div",{className:"result-card loading",children:[e.jsx("div",{className:"loading-spinner large"}),e.jsx("p",{children:"Calculating..."})]}):a?e.jsxs("div",{className:"result-card",children:[u&&e.jsx("div",{className:"confetti-container",children:[...Array(20)].map((s,h)=>e.jsx("div",{className:"confetti",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*.5}s`,backgroundColor:["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6"][Math.floor(Math.random()*5)]}},h))}),e.jsxs("div",{className:`result-header bg-gradient-to-br ${r()}`,children:[e.jsx("div",{className:"result-emoji",children:m()}),e.jsx("h2",{className:"result-operation-name",children:a.operationName})]}),e.jsxs("div",{className:"result-body",children:[e.jsx("div",{className:"expression-display",children:e.jsx("span",{className:"expression-text",children:a.expression})}),e.jsx("div",{className:"equals-symbol",children:"="}),e.jsx("div",{className:`result-display ${c?"animate":""}`,children:e.jsx("div",{className:"result-value",children:a.result})}),e.jsxs("div",{className:"result-details",children:[e.jsxs("div",{className:"detail-box",children:[e.jsx("span",{className:"detail-label",children:"First Number"}),e.jsx("span",{className:"detail-value",children:a.num1})]}),e.jsxs("div",{className:"detail-box",children:[e.jsx("span",{className:"detail-label",children:"Second Number"}),e.jsx("span",{className:"detail-value",children:a.num2})]})]}),e.jsx("button",{onClick:p,className:`again-button bg-gradient-to-br ${r()}`,children:"‚ú® Calculate Again"})]}),e.jsx("div",{className:"result-footer",children:e.jsx("p",{className:"footer-badge",children:"‚úÖ Calculation Complete!"})})]}):e.jsx("div",{className:"result-card error",children:e.jsx("p",{children:"‚ùå Failed to load result"})})}if(typeof document<"u"){const a=document.getElementById("root");a&&f.createRoot(a).render(e.jsx(x,{}))}
